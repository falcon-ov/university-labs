# Лабораторная работа 1: Основы Linux

**Выполнил: Даниил Соколов\
Группа: I2302**

## Цель лабораторной работы:
Изучить основы операционной системы Linux, включая структуру файловой системы, базовые
команды для работы с ней, создание и управление пользователями, а также основы управления
процессами и правами доступа.

## Раздел 1: Структура файловой системы

**Теоретическая часть:**
```
Файловая система Linux представляет собой иерархическую структуру, где все файлы и каталоги
организованы в едином дереве. Корневая директория обозначается как /. Все остальные файлы
и каталоги расположены внутри нее.
Основные каталоги файловой системы Linux:
• / — корневая директория, от которой начинается вся структура.
• /bin — бинарные исполнимые файлы (основные утилиты, доступные для всех
пользователей).
• /etc — системные конфигурационные файлы.
• /home — домашние директории пользователей.
• /lib — библиотеки, необходимые для работы программ.
• /tmp — временные файлы.
• /var — файлы, изменяющиеся во время работы системы (логи, базы данных и т.д.).
• /usr — утилиты и программы, установленные для использования пользователями.
• /dev — устройства, доступные в системе
```

**Практическая часть:**

1. Используя команду ls, я просмотрел содержимое корневой директории /.

![img](/images/img_1.png)

2. Я ознакомился с содержимым других системных директорий с помощью ls /директория.

![img](/images/img_2.png)

3. Я использовал команду tree для визуализации структуры каталогов приложения на Spring`е

![img](/images/img_3.png)

## Раздел 2: Базовые команды Linux

**Теоретическая часть:**

```
Основные команды для работы с файловой системой:
• ls — выводит список файлов и каталогов в текущей директории.
• cd — смена текущей директории.
• pwd — выводит путь к текущей директории.
• cp — копирование файлов и каталогов.
• mv — перемещение или переименование файлов.
• rm — удаление файлов и каталогов.
• mkdir — создание каталога.
• rmdir — удаление пустого каталога.
```

**Практическая часть:**

1. Я создал каталог с помощью mkdir.

![img](/images/img_4.png)

2. Я переместил в него файл с помощью mv.

![img](/images/img_5.png)

3. Я скопировал файл с помощью cp.

![img](/images/img_6.png)

4. Я удалил файл и каталог с помощью rm и rmdir.

![img](/images/img_7.png)

## Раздел 3: Управление пользователями и правами

**Теоретическая часть:**

```
Каждый файл и каталог в Linux имеет три типа прав доступа:
• r — право на чтение.
• w — право на запись.
• x — право на выполнение.
Права могут быть назначены владельцу файла, группе и всем остальным пользователям.
Команды для управления пользователями:
• useradd — создание нового пользователя.
• passwd — изменение пароля пользователя.
• usermod — изменение свойств пользователя.
• groupadd — создание новой группы.
Команды для работы с правами доступа:
• chmod — изменение прав доступа.
• chown — изменение владельца и группы файла.
• chgrp — изменение группы файла.
```

**Практическая часть:**

1. Создайте нового пользователя с помощью useradd и установите для него пароль с
помощью passwd.

![img](/images/img_8.png)

2. Ознакомьтесь с текущими правами доступа к файлам с помощью команды ls -l.

![img](/images/img_9.png)

  - `-rw-rw-r-- 1 user user 0 Sep 10 20:23 temp_file`
    - – обычный файл (не каталог)
    - rw- – права владельца: чтение и запись
    - rw- – права группы: чтение и запись
    - r-- – права остальных: только чтение
    - 1 – количество ссылок на файл
    - user – владелец файла
    - user – группа файла
    - 0 – размер файла в байтах
    - Sep 10 20:23 – дата и время последнего изменения
    - temp_file – имя файла

3. Измените права доступа с помощью chmod и проверьте результат.

    Даю владельцу полный доступ, группе — только чтение, остальным — ничего:
    ![img](/images/img_10.png)

    - rwx – владелец может читать, писать и выполнять
    - r-- – группа может только читать
    - --- – остальные не имеют прав

4. Измените владельца файла с помощью chown.

![img](/images/img_11.png)


## Раздел 4: Процессы в Linux

**Теоретическая часть:**

```
В Linux каждый запущенный процесс имеет уникальный идентификатор — PID. Система
позволяет управлять процессами с помощью различных команд.
Основные команды для работы с процессами:
• ps — отображение списка текущих процессов.
• top — отображение динамического списка процессов с подробной информацией.
• kill — завершение процесса по PID.
• bg и fg — запуск процесса в фоне и возвращение в передний план.
```

**Практическая часть:**

1. Ознакомьтесь с процессами в системе с помощью ps aux.

![img](/images/img_12.png)
![img](/images/img_13.png)

- `user       18004  0.0  0.0  15220  9592 pts/0    Ss   19:12   0:00 bash
`
    - user – владелец процесса
    - 18004 – PID (идентификатор процесса)
    - 0.0 – использование CPU (%)
    - 0.0 – использование памяти (%)
    - 15220 – виртуальная память процесса (KB)
    - 9592 – резидентная память (KB)
    - pts/0 – терминал, с которого запущен процесс
    - Ss – состояние процесса (S – спящий, s – сессия управляема терминалом)
    - 19:12 – время запуска процесса
    - 0:00 – суммарное время работы процессора
    - bash – имя процесса (оболочка)

2. Используйте команду top для отображения списка процессов.

![img](/images/img_14.png)

3. Завершите процесс с помощью kill.

![img](/images/img_15.png)
![img](/images/img_16.png)\
После выполнения этой команды процесс top завершился

## Раздел 5: Обработка текста с помощью grep, sed и awk

**Теоретическая часть:**

```
Теоретическая часть:
grep — Поиск текста в файлах
grep — это команда, которая используется для поиска строк, содержащих заданный текст (или
регулярное выражение) в одном или нескольких файлах.
Основные синтаксисы:
• grep <шаблон> <файл> — поиск строк, содержащих шаблон.
• grep -r <шаблон> <директория> — рекурсивный поиск по всей директории.
• grep -i <шаблон> <файл> — поиск без учета регистра.
• grep -v <шаблон> <файл> — вывод строк, которые не содержат шаблон.
Пример использования:
1. Найти все строки, содержащие слово error в файле журнала:
grep "error" /var/log/syslog
2. Исключить строки, содержащие слово debug:
grep -v "debug" /var/log/syslog
sed — Потоковый редактор
sed (stream editor) используется для обработки и преобразования текста в потоке (например, в
файлах или выводе других команд). Это один из самых мощных инструментов для
редактирования текстовых данных.
Основные синтаксисы:
• sed 's/<старый_шаблон>/<новый_шаблон>/' <файл> — заменяет первый
найденный экземпляр шаблона на новый в каждой строке.
• sed 's/<старый_шаблон>/<новый_шаблон>/g' <файл> — заменяет все
экземпляры шаблона в строках.
• sed -i 's/<старый_шаблон>/<новый_шаблон>/' <файл> — делает замену
непосредственно в файле (инлайн).
Пример использования:
1. Заменить все вхождения слова foo на bar в файле:
sed 's/foo/bar/g' example.txt
2. Сделать замену в файле напрямую (не выводя результат на экран):
sed -i 's/foo/bar/g' example.txt
awk — Обработка и анализ текстовых данных
awk — это язык программирования для обработки и анализа текстовых данных, в частности,
предназначен для работы с данными, организованными в виде таблиц (например, CSV).
Основные синтаксисы:
• awk '{print $1}' <файл> — выводит первый столбец данных.
• awk '{print $1, $3}' <файл> — выводит первый и третий столбцы.
• awk '/<шаблон>/{print $0}' <файл> — выводит все строки, содержащие
шаблон.
• awk '{if ($3 > 50) print $1}' <файл> — выводит первую колонку, если
значение в третьей колонке больше 50.
Пример использования:
1. Показать первый столбец из файла:
awk '{print $1}' example.txt
2. Вывести строки, где значение во втором столбце больше 100:
awk '$2 > 100' example.txt

```

**Практическая часть:**

1. grep:
   - Используйте команду grep для поиска определенных строк в системных
журналах, например, в файле /var/log/syslog.\
`grep "error" /var/log/syslog`
![img](/images/img_17.png)
   - Выполните поиск всех строк, содержащих ошибку error или предупреждение
warning.\
`grep -E "error|warning" /var/log/syslog`
![img](/images/img_18.png)
   - Найдите все строки(последние 10 для наглядности), не содержащие слово debug.\
   `grep -v "debug" /var/log/syslog | tail -n 10`
![img](/images/img_19.png)
   


2. sed:
   - Замените все вхождения слова Linux на Unix в тексте.
   ![img](/images/img_20.png)\
   `sed -i 's/Linux/Unix/g' temp_file.txt`\
   ![img](/images/img_21.png)
   ![img](/images/img_23.png)
   - Используя sed, удалите все пустые строки из файла (замените их на что-то другое
или просто удалите).
    ![img](/images/img_22.png)
    ![img](/images/img_24.png)
    `sed -i '/^$/d' temp_file.txt`\
    ![img](/images/img_25.png)

   - Сделайте замену в файле с помощью опции `-i`, чтобы изменения были применены непосредственно в файле.

        Все изменениея были применены, так как команды использовались с опцией `-i`


3. awk:
   - Используйте команду awk, чтобы вывести второй и третий столбцы из файла с
данными, разделенными пробелами или табуляциями.\
`Пример данных`
![img](/images/img_26.png)
`awk '{print $2, $3}' temp_file.txt`
![img](/images/img_27.png)

   - Примените команду awk для выборки строк, где значение в одном из столбцов
больше заданного числа.

        Предположим, мы хотим выбрать все строки, где возраст (четвёртый столбец) больше 25.
        Команда awk будет такой:\
`awk '$4 > 25' temp_file.txt`
![img](/images/img_28.png)

   - Используя awk, обработайте файл CSV и выведите только те строки, которые
соответствуют определенному условию.
`Пример данных`
![img](/images/img_29.png)
Теперь с помощью awk можно выбрать, например, строки, где возраст больше 25:
`awk -F',' '$4 > 25' temp_file.csv`
![img](/images/img_30.png)

## Заключение

В ходе лабораторной работы я освоил базовые команды Linux и научился ориентироваться в файловой системе. Я научился создавать и удалять каталоги и файлы, перемещать и копировать их, а также работать с правами доступа и пользователями. Также я ознакомился с управлением процессами и научился использовать утилиты для обработки текста, такие как grep, sed и awk. Этот опыт позволил лучше понять основы работы с Linux и облегчил дальнейшее изучение системы.