# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3. –û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ç–∏

## –¶–µ–ª–∏ —Ä–∞–±–æ—Ç—ã

–ù–∞—É—á–∏–ª—Å—è –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å–µ—Ç—å (VPC) –≤ AWS, –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –Ω–µ—ë –ø–æ–¥—Å–µ—Ç–∏, —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—à–ª—é–∑ (IGW) –∏ NAT Gateway, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º –≤ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π.

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —è:

- –ø–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑–æ–ª—è—Ü–∏—è —Å–µ—Ç–µ–π –≤ AWS (VPC);
- —É–º–µ—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Å–≤—è–∑—ã–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–µ—Ç–∏;
- –∑–Ω–∞—é, –∫–∞–∫ EC2-–∏–Ω—Å—Ç–∞–Ω—Å—ã —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Å–µ—Ç–µ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º;
- —Ä–∞–∑–ª–∏—á–∞—é –ø—É–±–ª–∏—á–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã.

## –£—Å–ª–æ–≤–∏—è

_Amazon VPC (Virtual Private Cloud)_ ‚Äî —ç—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –≤ –æ–±–ª–∞–∫–µ AWS.
–û–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥—Ä–µ—Å–Ω—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º, –ø–æ–¥—Å–µ—Ç—è–º–∏, —à–ª—é–∑–∞–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

–í —Ç–∏–ø–∏—á–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç:

- _–ü—É–±–ª–∏—á–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å_. –î–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–∏–º–µ–µ—Ç –≤—ã—Ö–æ–¥ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç).
- _–ü—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å_. –î–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏–∑–≤–Ω–µ).
- _NAT Gateway_. –ß—Ç–æ–±—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏–º–µ–ª–∏ –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ü–û).
- _Route Tables_. –û–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫—É–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫.
- _Security Groups_. –£–ø—Ä–∞–≤–ª—è—é—Ç –≤—Ö–æ–¥—è—â–∏–º–∏ –∏ –∏—Å—Ö–æ–¥—è—â–∏–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤.
- _EC2-–∏–Ω—Å—Ç–∞–Ω—Å—ã_. –í–µ–±-—Å–µ—Ä–≤–µ—Ä, —Å–µ—Ä–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ bastion host.

### –®–∞–≥ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ä–µ–¥—ã

1. –í–æ—à—ë–ª –≤ AWS Management Console.
2. –£–±–µ–¥–∏–ª—Å—è, —á—Ç–æ —Ä–µ–≥–∏–æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `Frankfurt` (eu-central-1).
3. –í —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞ –≤–≤–µ–ª _VPC_ –∏ –æ—Ç–∫—Ä—ã–ª –∫–æ–Ω—Å–æ–ª—å.
![img](/images/img_1.png)

### –®–∞–≥ 2. –°–æ–∑–¥–∞–Ω–∏–µ VPC

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `Your VPCs` ‚Üí `Create VPC`.
![img](/images/img_2.png)
2. –£–∫–∞–∑–∞–ª:
   1. `Name tag`: `student-vpc-kXX` (–≥–¥–µ `XX` ‚Äî –º–æ–π –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä).\
   `–ú–æ–π –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä XX = 19`
   2. `IPv4 CIDR block`: `10.(k%30).0.0/16`,
   —Ç–æ –µ—Å—Ç—å `10.19.0.0/16`
      
   3. `Tenancy`: Default

      ![img](/images/img_3.png)

      > –ß—Ç–æ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –º–∞—Å–∫–∞ `/16`? –ò –ø–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, `/8`?

      > –û—Ç–≤–µ—Ç: –ú–∞—Å–∫–∞ /16 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–≤—ã–µ 16 –±–∏—Ç –∞–¥—Ä–µ—Å–∞ ‚Äî —ç—Ç–æ —Å–µ—Ç—å, –∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 16 ‚Äî —Ö–æ—Å—Ç—ã.
      –¢–æ –µ—Å—Ç—å –≤ —Å–µ—Ç–∏ –º–æ–∂–Ω–æ –∏–º–µ—Ç—å –æ–∫–æ–ª–æ 65 000 –∞–¥—Ä–µ—Å–æ–≤.
      –ú–∞—Å–∫—É /8 –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ —Å–ª–∏—à–∫–æ–º –∫—Ä—É–ø–Ω–∞—è ‚Äî –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω—ã –∞–¥—Ä–µ—Å–æ–≤ –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –¥–ª—è –æ–¥–Ω–æ–π VPC.

3. –ù–∞–∂–∞–ª `Create VPC`.

_VPC_ ‚Äî —ç—Ç–æ "–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä" –¥–ª—è –ø–æ–¥—Å–µ—Ç–µ–π. –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π VPC –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–µ—Å—è—Ç–∫–∏ –ø–æ–¥—Å–µ—Ç–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.

### –®–∞–≥ 3. –°–æ–∑–¥–∞–Ω–∏–µ Internet Gateway (IGW)

Internet Gateway –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–∞–º –≤–Ω—É—Ç—Ä–∏ VPC –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç. _–ë–µ–∑ –Ω–µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞ –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å_. –ï—Å–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (EC2) –Ω–∞–∑–Ω–∞—á–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π IP, –Ω–æ –Ω–µ—Ç IGW, –æ–Ω–∞ –Ω–µ —Å–º–æ–∂–µ—Ç –æ–±—â–∞—Ç—å—Å—è —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º.

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `Internet Gateways` ‚Üí `Create internet gateway`.
2. –£–∫–∞–∑–∞–ª –∏–º—è: `student-igw-kXX` - `student-igw-k19`. 
![img](/images/img_4.png)
3. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –±—ã–ª–æ "–ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å" (Attach) —à–ª—é–∑ –∫ —Å–µ—Ç–∏:
   1. –í—ã–±—Ä–∞–ª —Å–æ–∑–¥–∞–Ω–Ω—ã–π IGW.
   2. –ù–∞–∂–∞–ª `Actions` ‚Üí `Attach to VPC`.
   3. –í —Å–ø–∏—Å–∫–µ –≤—ã–±—Ä–∞–ª `student-vpc-kXX` - `student-igw-k19`.
   4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –¥–µ–π—Å—Ç–≤–∏–µ.
   ![img](/images/img_5.png)

### –®–∞–≥ 4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Å–µ—Ç–µ–π

_–ü–æ–¥—Å–µ—Ç–∏ (subnets)_ ‚Äî —ç—Ç–æ —Å–µ–≥–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ VPC, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã. –¢–æ –µ—Å—Ç—å, –ø–æ–¥—Å–µ—Ç–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –∏ —É—Ä–æ–≤–Ω—é –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º.

#### –®–∞–≥ 4.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏

–ö–æ–≥–¥–∞ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã VPC –∏ Internet Gateway, —Å–æ–∑–¥–∞–ª –ø–µ—Ä–≤—É—é –ø–æ–¥—Å–µ—Ç—å ‚Äî –ø—É–±–ª–∏—á–Ω—É—é.
–≠—Ç–∞ –ø–æ–¥—Å–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∏–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `Subnets` ‚Üí `Create subnet`.
2. –£–∫–∞–∑–∞–ª:
   1. `VPC ID`: –≤—ã–±—Ä–∞–ª —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å–µ—Ç—å `student-vpc-k19`
   2. `Subnet name`: `public-subnet-k19`
   3. `Availability Zone`: `us-central-1a`
      > AWS —Å–æ–∑–¥–∞—ë—Ç –ø–æ–¥—Å–µ—Ç–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–æ–Ω–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏; –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã–±—Ä–∞–ª –ø–µ—Ä–≤—É—é
   4. `IPv4 CIDR block`: `10.19.1.0/24`
      > –î–∏–∞–ø–∞–∑–æ–Ω IP-–∞–¥—Ä–µ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–¥–∞–Ω—ã —Ä–µ—Å—É—Ä—Å–∞–º –≤ —ç—Ç–æ–π –ø–æ–¥—Å–µ—Ç–∏
3. –ù–∞–∂–∞–ª `Create subnet`.

![img](/images/img_6.png)

> –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–¥—Å–µ—Ç—å "–ø—É–±–ª–∏—á–Ω–æ–π" –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç? –ü–æ—á–µ–º—É?

> –û—Ç–≤–µ—Ç: –ù–µ—Ç, –ø–æ–∫–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è.
–ü–æ–¥—Å–µ—Ç—å —Å—Ç–∞–Ω–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –∫ Internet Gateway –≤ –µ—ë —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

#### –®–∞–≥ 4.2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏

–ü–æ–¥—Å–µ—Ç—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–π, –µ—Å–ª–∏ –µ—ë —Ç—Ä–∞—Ñ–∏–∫ –Ω–µ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç.

1. –ù–∞–∂–∞–ª `Create subnet` –µ—â—ë —Ä–∞–∑.
2. –£–∫–∞–∑–∞–ª:
   1. `VPC ID`: –≤—ã–±—Ä–∞–ª —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å–µ—Ç—å `student-vpc-k19`
      > –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç—É –∂–µ VPC, —á—Ç–æ–±—ã –æ–±–µ –ø–æ–¥—Å–µ—Ç–∏ –º–æ–≥–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π.
   2. `Subnet name`: `private-subnet-k19`
   3. `Availability Zone`: _–í—ã–±—Ä–∞–ª –ª—é–±—É—é –¥—Ä—É–≥—É—é –∑–æ–Ω—É_
   4. `IPv4 CIDR block`: `10.19.2.0/24`
      > –î–∏–∞–ø–∞–∑–æ–Ω –∞–¥—Ä–µ—Å–æ–≤ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è —Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏.
3. –ù–∞–∂–∞–ª `Create subnet`.

![img](/images/img_7.png)

> –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–¥—Å–µ—Ç—å "–ø—Ä–∏–≤–∞—Ç–Ω–æ–π" –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç? –ü–æ—á–µ–º—É?

> –ù–µ—Ç, –ø–æ–∫–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è.
–û–Ω–∞ —Å—Ç–∞–Ω–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ –±–µ–∑ –≤—ã—Ö–æ–¥–∞ –≤ Internet Gateway (—Ç.–µ. –∫–æ–≥–¥–∞ —Ç—Ä–∞—Ñ–∏–∫ –Ω–µ –±—É–¥–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç).

### –®–∞–≥ 5. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –º–∞—Ä—à—Ä—É—Ç–æ–≤ (Route Tables)

–ö–æ–≥–¥–∞ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–≤–µ –ø–æ–¥—Å–µ—Ç–∏ (–ø—É–±–ª–∏—á–Ω–∞—è –∏ –ø—Ä–∏–≤–∞—Ç–Ω–∞—è), –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã (Route Tables), –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ VPC.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥–∞—è –Ω–æ–≤–∞—è VPC –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–æ–≤, –∏ –≤—Å–µ –Ω–æ–≤—ã–µ –ø–æ–¥—Å–µ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫ –Ω–µ–π –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è. –ï—Å–ª–∏ –∑–∞–π—Ç–∏ –≤ `Route Tables`, –≤–∏–¥–Ω–∞ –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å VPC.

–ù–æ –¥–ª—è –ª—É—á—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∏–∑–æ–ª—è—Ü–∏–∏ —Å–æ–∑–¥–∞–ª:

- –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ (—Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É —á–µ—Ä–µ–∑ IGW),
- –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ (—Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É —á–µ—Ä–µ–∑ NAT Gateway).

#### –®–∞–≥ 5.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `Route Tables` ‚Üí `Create route table`.
2. –£–∫–∞–∑–∞–ª:
   1. `Name tag`: `public-rt-k19`
   2. `VPC`: `student-vpc-k19`
   3. –ù–∞–∂–∞–ª `Create route table`
   ![img](/images/img_8.png)
   4. –ü–µ—Ä–µ—à—ë–ª –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Routes` –∏ –Ω–∞–∂–∞–ª `Edit routes` ‚Üí `Add route`.
   5. –ó–∞–ø–æ–ª–Ω–∏–ª:
      1. `Destination`: 0.0.0.0/0
         > –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫, –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∞–¥—Ä–µ—Å–∞–º VPC".
      2. `Target`: –≤—ã–±—Ä–∞–ª Internet Gateway (`student-igw-k19`).
   6. –ù–∞–∂–∞–ª `Save changes`.
   ![img](/images/img_9.png)
   7. –ü–µ—Ä–µ—à—ë–ª –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Subnet associations` ‚Üí `Edit subnet associations`.
      > –ó–∞—á–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫ –ø–æ–¥—Å–µ—Ç–∏?

      > –û—Ç–≤–µ—Ç: –ß—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∞—è –ø–æ–¥—Å–µ—Ç—å –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–æ–≤.
      –ë–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –ø–æ–¥—Å–µ—Ç—å –Ω–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, –ø–æ –∫–∞–∫–∏–º –ø—Ä–∞–≤–∏–ª–∞–º –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ ‚Äî –∏ –º–∞—Ä—à—Ä—É—Ç –∫ Internet Gateway –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç.

   8. –û—Ç–º–µ—Ç–∏–ª `public-subnet-k19` –∏ –Ω–∞–∂–∞–ª `Save associations`.
   ![img](/images/img_10.png)

–¢–µ–ø–µ—Ä—å —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ NAT Gateway) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É–∂—É —á–µ—Ä–µ–∑ Internet Gateway. –°–≤—è–∑—å `"0.0.0.0/0 ‚Üí IGW"` ‚Äî –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–¥—Å–µ—Ç—å –ø—É–±–ª–∏—á–Ω–æ–π.

#### –®–∞–≥ 5.2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

1. –ù–∞–∂–∞–ª `Create route table` –µ—â—ë —Ä–∞–∑.
2. –£–∫–∞–∑–∞–ª:
   1. `Name tag`: `private-rt-k19`
   2. `VPC`: `student-vpc-k19`
   3. –ù–∞–∂–∞–ª `Create route table`.
   ![img](/images/img_11.png)
3. –ü–µ—Ä–µ—à—ë–ª –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Subnet associations` ‚Üí `Edit subnet associations`.
4. –û—Ç–º–µ—Ç–∏–ª `private-subnet-k19` –∏ –Ω–∞–∂–∞–ª `Save associations`.
   ![img](/images/img_12.png)

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –Ω–µ —Å–º–æ–≥—É—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç NAT Gateway –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞.

### –®–∞–≥ 6. –°–æ–∑–¥–∞–Ω–∏–µ NAT Gateway

NAT Gateway –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–∞–º –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ü–û), –ø—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–≤–∞—è—Å—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∏–∑–≤–Ω–µ.

> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç NAT Gateway?

> –û—Ç–≤–µ—Ç: NAT Gateway –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –∑–∞–º–µ–Ω—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP-–∞–¥—Ä–µ—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–∞ —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π IP, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, –∞ –∑–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø—Ä–∏–≤–∞—Ç–Ω—É—é –ø–æ–¥—Å–µ—Ç—å.
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ä–µ—Å—É—Ä—Å—ã –º–æ–≥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, –Ω–æ –≤–Ω–µ—à–Ω–∏–µ —É–∑–ª—ã –Ω–µ –º–æ–≥—É—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –Ω–∏–º–∏.

#### –®–∞–≥ 6.1. –°–æ–∑–¥–∞–Ω–∏–µ Elastic IP

_Elastic IP_ ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—É–±–ª–∏—á–Ω—ã–π IPv4-–∞–¥—Ä–µ—Å, –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –∑–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–º AWS.
–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è NAT Gateway, —á—Ç–æ–±—ã —Ç–æ—Ç –º–æ–≥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π "—Ç–æ—á–∫—É –≤—ã—Ö–æ–¥–∞" –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ –≤—Å–µ—Ö –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤.

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `Elastic IPs` ‚Üí `Allocate Elastic IP address`.
2. –ù–∞–∂–∞–ª Allocate.
![img](/images/img_13.png)
![img](/images/img_14.png)

#### –®–∞–≥ 6.2. –°–æ–∑–¥–∞–Ω–∏–µ NAT Gateway

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `NAT Gateways` ‚Üí `Create NAT gateway`.
2. –£–∫–∞–∑–∞–ª:
   1. `Name tag`: `nat-gateway-k19`
   2. `Subnet`: –≤—ã–±—Ä–∞–ª –ø—É–±–ª–∏—á–Ω—É—é –ø–æ–¥—Å–µ—Ç—å (`public-subnet-k19`)
      > NAT Gateway –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–º—É –Ω—É–∂–µ–Ω –ø—Ä—è–º–æ–π –≤—ã—Ö–æ–¥ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ IGW.
   3. `Connectivity type`: `Public`
   4. `Elastic IP allocation ID`: –≤—ã–±—Ä–∞–ª EIP, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ.
3. –ù–∞–∂–∞–ª `Create NAT gateway`.
![img](/images/img_15.png)

–ü–æ–¥–æ–∂–¥–∞–ª 2‚Äì3 –º–∏–Ω—É—Ç—ã, –ø–æ–∫–∞ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è —Å `Pending` –Ω–∞ `Available`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ, —á—Ç–æ NAT Gateway –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.
![img](/images/img_16.png)
![img](/images/img_17.png)

#### –®–∞–≥ 6.3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

1. –í–µ—Ä–Ω—É–ª—Å—è –≤ `Route Tables` –∏ –≤—ã–±—Ä–∞–ª `private-rt-k19`.
2. –ü–µ—Ä–µ—à—ë–ª –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Routes` –∏ –Ω–∞–∂–∞–ª `Edit routes` ‚Üí `Add route`.
3. –ó–∞–ø–æ–ª–Ω–∏–ª:
   1. `Destination`: `0.0.0.0/0`
   2. `Target`: –≤—ã–±—Ä–∞–ª NAT Gateway (`nat-gateway-k19`).
4. –ù–∞–∂–∞–ª `Save changes`.
![img](/images/img_18.png)

–¢–µ–ø–µ—Ä—å —Ä–µ—Å—É—Ä—Å—ã –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ —Å–º–æ–≥–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ NAT Gateway.

### –®–∞–≥ 7. –°–æ–∑–¥–∞–Ω–∏–µ Security Groups

_Security Group (SG)_ ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Å—Ç–∞–Ω—Å–∞ (EC2), –∫–æ—Ç–æ—Ä—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–π (Inbound) –∏ –∏—Å—Ö–æ–¥—è—â–∏–π (Outbound) —Ç—Ä–∞—Ñ–∏–∫.

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±—Ä–∞–ª `Security Groups` ‚Üí `Create security group`.
2. –£–∫–∞–∑–∞–ª:
   1. `Security group name`: `web-sg-k19`
   2. `Description`: `Security group for web server`
   3. `VPC`: –≤—ã–±—Ä–∞–ª —Å–æ–∑–¥–∞–Ω–Ω—É—é VPC (`student-vpc-k19`)
3. –í —Ä–∞–∑–¥–µ–ª–µ Inbound rules –¥–æ–±–∞–≤–∏–ª –ø—Ä–∞–≤–∏–ª–∞, —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã —Ç—Ä–∞—Ñ–∏–∫–∞:
   1. –¢–∏–ø: `HTTP`, –ü—Ä–æ—Ç–æ–∫–æ–ª: `TCP`, –ü–æ—Ä—Ç: `80`, –ò—Å—Ç–æ—á–Ω–∏–∫: `0.0.0.0/0`
   2. –¢–∏–ø: `HTTPS`, –ü—Ä–æ—Ç–æ–∫–æ–ª: `TCP`, –ü–æ—Ä—Ç: `443`, –ò—Å—Ç–æ—á–Ω–∏–∫: `0.0.0.0/0`
   ![img](/images/img_19.png)
4. –°–æ–∑–¥–∞–ª –µ—â—ë –¥–≤–µ Security Groups:
   1. `bastion-sg-k19` –¥–ª—è bastion host —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –ø–æ—Ä—Ç `22` (SSH) —Ç–æ–ª—å–∫–æ –∏–∑ –º–æ–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞.
   ![img](/images/img_20.png)
   2. `db-sg-k19` –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞:
      1. –¢–∏–ø: `MySQL/Aurora`, –ü—Ä–æ—Ç–æ–∫–æ–ª: `TCP`, –ü–æ—Ä—Ç: `3306`, –ò—Å—Ç–æ—á–Ω–∏–∫: `web-sg-k19` (—Ä–∞–∑—Ä–µ—à–∞—é –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞)
      2. –¢–∏–ø: `SSH`, –ü—Ä–æ—Ç–æ–∫–æ–ª: `TCP`, –ü–æ—Ä—Ç: `22`, –ò—Å—Ç–æ—á–Ω–∏–∫: `bastion-sg-k19` (—Ä–∞–∑—Ä–µ—à–∞—é –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å bastion host)
      ![img](/images/img_21.png)

> –ß—Ç–æ —Ç–∞–∫–æ–µ _Bastion Host_ –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–¥—Å–µ—Ç—è–º–∏?

> Bastion Host ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, —Ä–∞–∑–º–µ—â—ë–Ω–Ω—ã–π –≤ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ –∏ —Å–ª—É–∂–∞—â–∏–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–µ—Å—É—Ä—Å–∞–º, –Ω–∞—Ö–æ–¥—è—â–∏–º—Å—è –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–¥—Å–µ—Ç—è—Ö. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥–¥–µ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∏–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∑–∞–ø—Ä–µ—â—ë–Ω. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ SSH –∫ bastion host, –∞ –∑–∞—Ç–µ–º —É–∂–µ –∏–∑ –Ω–µ–≥–æ ‚Äî –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, bastion host –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –¥–æ—Å—Ç—É–ø –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å.

### –®–∞–≥ 8. –°–æ–∑–¥–∞–Ω–∏–µ EC2-–∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

–°–æ–∑–¥–∞–ª —Ç—Ä–∏ EC2-–∏–Ω—Å—Ç–∞–Ω—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏:

- _–í–µ–±-—Å–µ—Ä–≤–µ—Ä_ (`web-server`) - –≤ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –ø–æ HTTP.
- _–°–µ—Ä–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö_ (`db-server`) - –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é –∏–∑–≤–Ω–µ.
- _Bastion Host_ (`bastion-host`) - –≤ –ø—É–±–ª–∏—á–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º.

1. –í —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞ AWS Console –≤–≤–µ–ª `EC2` –∏ –æ—Ç–∫—Ä—ã–ª –∫–æ–Ω—Å–æ–ª—å.
2. –°–æ–∑–¥–∞–ª 3 –∏–Ω—Å—Ç–∞–Ω—Å–∞, —Å–ª–µ–¥—É—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∏–∂–µ.

_–î–ª—è –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª_:

- AMI: `Amazon Linux 2 AMI (HVM), SSD Volume Type`
- –¢–∏–ø –∏–Ω—Å—Ç–∞–Ω—Å–∞: `t3.micro`
- –ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞ (Key Pair): —Å–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π –∫–ª—é—á `student-key-k19` –∏ —Å–∫–∞—á–∞–ª –µ–≥–æ.
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: –æ—Å—Ç–∞–≤–∏–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (8 –ì–ë).
- –¢–µ–≥–∏: –¥–æ–±–∞–≤–∏–ª —Ç–µ–≥ `Name` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∏–º–µ–Ω–µ–º –∏–Ω—Å—Ç–∞–Ω—Å–∞.

–î–ª—è `web-server`:

1. –í—ã–±—Ä–∞–ª —Å–µ—Ç—å `VPC`: `student-vpc-k19`
2. –ü–æ–¥—Å–µ—Ç—å `Subnet`: `public-subnet-k19`
3. `Auto-assign Public IP`: `Enable`
4. `Security Group`: –≤—ã–±—Ä–∞–ª `web-sg-k19`
5. –í —Ä–∞–∑–¥–µ–ª–µ `Advanced Details` –≤ –ø–æ–ª–µ `User data` –≤—Å—Ç–∞–≤–∏–ª —Å–ª–µ–¥—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞:

   ```bash
   #!/bin/bash
   dnf install -y httpd php
   echo "<?php phpinfo(); ?>" > /var/www/html/index.php
   systemctl enable httpd
   systemctl start httpd
   ```
   ![img](/images/img_22.png)

–î–ª—è `db-server`:

1. –í—ã–±—Ä–∞–ª —Å–µ—Ç—å `VPC`: `student-vpc-k19`
2. –ü–æ–¥—Å–µ—Ç—å `Subnet`: `private-subnet-k19`
3. `Auto-assign Public IP`: `Disable`
4. `Security Group`: –≤—ã–±—Ä–∞–ª `db-sg-k19`
5. –í —Ä–∞–∑–¥–µ–ª–µ `Advanced Details` –≤ –ø–æ–ª–µ `User data` –≤—Å—Ç–∞–≤–∏–ª —Å–ª–µ–¥—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MySQL —Å–µ—Ä–≤–µ—Ä–∞:

   ```bash
   #!/bin/bash
   dnf install -y mariadb105-server
   systemctl enable mariadb
   systemctl start mariadb
   mysql -e "ALTER USER 'root'@'localhost' IDENTIFIED BY 'StrongPassword123!'; FLUSH PRIVILEGES;"
   ```
   ![img](/images/img_23.png)

–î–ª—è `bastion-host`:

1. –í—ã–±—Ä–∞–ª —Å–µ—Ç—å `VPC`: `student-vpc-k19`
2. –ü–æ–¥—Å–µ—Ç—å `Subnet`: `public-subnet-k19`
3. `Auto-assign Public IP`: `Enable`
4. `Security Group`: –≤—ã–±—Ä–∞–ª `bastion-sg-k19`
5. –í —Ä–∞–∑–¥–µ–ª–µ `Advanced Details` –≤ –ø–æ–ª–µ `User data` –≤—Å—Ç–∞–≤–∏–ª —Å–ª–µ–¥—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MySQL –∫–ª–∏–µ–Ω—Ç–∞:

   ```bash
   #!/bin/bash
   dnf install -y mariadb105
   ```
   ![img](/images/img_24.png)

   –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —è —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–æ—Å—å —Ä–µ—à–∞—Ç—å –æ–∫–æ–ª–æ –ø—è—Ç–∏ –¥–Ω–µ–π ‚Äî –º–µ–Ω—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –∏ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å. –Ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Ñ–æ—Ç–æ –ø–∞—Å–ø–æ—Ä—Ç–∞ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã, –Ω–æ —Å–ª—É–∂–±–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —ç—Ç–æ–≥–æ –æ–∫–∞–∑–∞–ª–æ—Å—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –∏ –º–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â—ë –∫–≤–∏—Ç–∞–Ω—Ü–∏—é –∑–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—é –∏ —Ñ–æ—Ç–æ —á–µ–∫–∞ –æ–± –æ–ø–ª–∞—Ç–µ —ç—Ç–æ–π –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–≤–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. üôÇ
   ![img](/images/img_25.png)

   –ù–∞ –ø–æ—á—Ç—É —Ç–∞–∫–∂–µ –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥–ª–∏ –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã, –Ω–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –≤—Å—ë –æ—Å—Ç–∞–ª–æ—Å—å –≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–∞–∫–æ–º –±—ã–ª–æ –¥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
   ![img](/images/img_26.png)

   –ò —Å–Ω–æ–≤–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ, —Å–æ–∑–¥–∞—Ç—å instance, —è –ø–æ–ª—É—á–∞—é –æ—à–∏–±–∫—É `Instance launch failed`
   ![img](/images/img_27.png)

   –ö —Å—á–∞—Å—Ç—å—é, –≤ —ç—Ç–æ—Ç —Ä–∞–∑ —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç –º–Ω–µ –ø—Ä–∏—à–ª–æ –ø–∏—Å—å–º–æ –æ —Å–Ω—è—Ç–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ —Ä–µ–≥–∏–æ–Ω–µ, –∏ —è –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ —Å–º–æ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç—å instance —Å–ø—É—Å—Ç—è 5-6 –¥–Ω–µ–π...
   ![img](/images/img_28.png)
   ![img](/images/img_29.png)
   ![img](/images/img_30.png)


### –®–∞–≥ 9. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–æ–∑–¥–∞–ª:

- –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å–µ—Ç—å (VPC)
- –ø—É–±–ª–∏—á–Ω—É—é –∏ –ø—Ä–∏–≤–∞—Ç–Ω—É—é –ø–æ–¥—Å–µ—Ç–∏
- –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—à–ª—é–∑ (IGW)
- NAT Gateway
- –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
- —Ç—Ä–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ EC2 (Web, DB –∏ Bastion)
- —Ç—Ä–∏ Security Group

–¢–µ–ø–µ—Ä—å –±—ã–ª–æ –≤–∞–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–µ—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ —á—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞.

1. –ü–æ–¥–æ–∂–¥–∞–ª, –ø–æ–∫–∞ –≤—Å–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã –∑–∞–ø—É—Å—Ç—è—Ç—Å—è (—Å—Ç–∞—Ç—É—Å `running`).
![img](/images/img_31.png)
2. –ù–∞—à–µ–ª –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å `web-server` –∏ –æ—Ç–∫—Ä—ã–ª –µ–≥–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –£–≤–∏–¥–µ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ PHP.
![img](/images/img_32.png)
![img](/images/img_33.png)
3. –ü–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ `bastion-host` –ø–æ SSH:
   ```bash
   ssh -i <your-nickname>-key.pem ec2-user@<Bastion-Host-Public-IP>
   ```
   ```text
   PS. —Ç–∞–∫ –∫–∞–∫ —è –ø—Ä–æ–¥–æ–ª–∂–∏–ª –≤—ã–ø–ª–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –Ω–æ—É—Ç–±—É–∫–∞, —è –∏–∑–º–µ–Ω–∏–ª –≤ security group –¥–ª—è bastion my-ip –Ω–∞ —Å–≤–æ–π ip –Ω–∞ –Ω–æ—É—Ç–µ.
   ```
   ![img](/images/img_34.png)

4. –ü—Ä–æ–≤–µ—Ä–∏–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É —Å `bastion-host`, –≤—ã–ø–æ–ª–Ω–∏–≤ `ping`:

   ```bash
      ping -c 4 google.com
   ```
   ![img](/images/img_35.png)

   > –ü–∏–Ω–≥–∏ —É—Å–ø–µ—à–Ω—ã, –∑–Ω–∞—á–∏—Ç –ø—É–±–ª–∏—á–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å –∏ IGW –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

5. –° `bastion-host` –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `db-server`:
   ```bash
   mysql -h <DB-Server-Private-IP> -u root -p
   mysql -h 10.19.2.124 -u root -p
   ```
   ![img](/images/img_36.png)
   ![img](/images/img_37.png)
   ![img](/images/img_38.png)

   –í–Ω–∞—á–∞–ª–µ, –Ω–µ–µ –º–æ–≥ –ø–æ–¥–ª—é—á–∏—Ç—å—Å—è –∫ db —á–µ—Ä–µ–∑ bastion, –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤–æ–µ inbound –ø—Ä–∞–≤–∏–ª–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–¥ —á–µ—Ä–µ–∑ bastion.
   –ó–∞—Ç–µ–º, –ø–æ–¥–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ bastion –∫ db —É–¥–∞–ª–æ—Å—å, –Ω–æ —Ç–µ–ø–µ—Ä—å —Å–∞–º–∞ –ë–î –æ—Ç–∫–ª–æ–Ω—è–ª–∞ –∑–∞–ø—Ä–æ—Å –æ—Ç —Ö–æ—Å—Ç–∞.

   > –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ, –∑–Ω–∞—á–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å –∏ NAT Gateway –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
6. –í—ã—à–µ–ª –∏–∑ `db-server` –∏ `bastion-host`.

### –®–∞–≥ 10. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ –ø—Ä–∏–≤–∞—Ç–Ω—É—é –ø–æ–¥—Å–µ—Ç—å —á–µ—Ä–µ–∑ Bastion Host

–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏, –Ω–æ –æ–Ω –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `db-server` —á–µ—Ä–µ–∑ `bastion-host`.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª SSH Agent Forwarding –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:

1. –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª. –≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª–æ SSH Agent –∏ –¥–æ–±–∞–≤–∏–ª–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ –∞–≥–µ–Ω—Ç:

   ```bash
   eval "$(ssh-agent -s)"
   ssh-add student-key-k19.pem
   ```
   ![img](/images/img_39.png)

2. –ü–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ `bastion-host` —Å –æ–ø—Ü–∏–µ–π `-A` –∏ '-J':

   ```bash
   ssh -A -J ec2-user@<Bastion-Host-Public-IP> ec2-user@<DB-Server-Private-IP>
   ```
   ```bash
   ssh -A -J ec2-user@3.79.230.58 ec2-user@10.19.2.124
   ```

   ![img](/images/img_40.png)

   > –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –æ–ø—Ü–∏—è `-A` –∏ `-J`?

   > –û—Ç–≤–µ—Ç: -A - –≤–∫–ª—é—á–∞–µ—Ç SSH agent forwarding, —á—Ç–æ–±—ã –∫–ª—é—á —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ db-server.
   -J - –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ jump host (bastion), —Ç.–µ. —Ç—É–Ω–Ω–µ–ª–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ.

3. –û–±–Ω–æ–≤–∏–ª —Å–∏—Å—Ç–µ–º—É –Ω–∞ `db-server`:
   ```bash
   sudo dnf update -y
   ```
   ![img](/images/img_41.png)
4. –£—Å—Ç–∞–Ω–æ–≤–∏–ª `htop`:

   ```bash
   sudo dnf install -y htop
   ```
   ![img](/images/img_42.png)

   > –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ, –∑–Ω–∞—á–∏—Ç NAT Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

5. –ü–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ MySQL —Å–µ—Ä–≤–µ—Ä—É:

   ```bash
   mysql -u root -p
   ```
   ![img](/images/img_43.png)

   > –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω mysql –∫–ª–∏–µ–Ω—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏–ª –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π `sudo dnf install -y mariadb105`.
   > –í–≤–µ–¥–µ–ª –ø–∞—Ä–æ–ª—å `StrongPassword123!`.

6. –í—ã—à–µ–ª –∏–∑ MySQL –∏ –∑–∞—Ç–µ–º –∏–∑ `db-server` –∏ `bastion-host`.
7. –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É —Å SSH Agent:
   ```bash
   ssh-agent -k
   ```
   ![img](/images/img_44.png)

## –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É–¥–∞–ª–∏–ª —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –≤ AWS, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç. –í—ã–ø–æ–ª–Ω–∏–ª —É–¥–∞–ª–µ–Ω–∏–µ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

1. –£–¥–∞–ª–∏–ª EC2-–∏–Ω—Å—Ç–∞–Ω—Å—ã.
![img](/images/img_45.png)
2. –£–¥–∞–ª–∏–ª NAT Gateway (–ø–æ–¥–æ–∂–¥–∞–ª, –ø–æ–∫–∞ –æ–Ω –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω).
![img](/images/img_46.png)
3. –£–¥–∞–ª–∏–ª Elastic IP.
   1. `VPC` -> `Elastic IPs` -> –≤—ã–±—Ä–∞–ª EIP -> `Actions` -> `Release Elastic IP addresses`.
   ![img](/images/img_47.png)
4. –£–¥–∞–ª–∏–ª Security Groups.
   1. `VPC` -> `Security Groups` -> –≤—ã–±—Ä–∞–ª –Ω—É–∂–Ω—É—é –≥—Ä—É–ø–ø—É -> `Actions` -> `Delete Security Group`.
   ![img](/images/img_48.png)
   ![img](/images/img_49.png)
5. –£–¥–∞–ª–∏–ª Internet Gateway.
   1. `VPC` -> `Internet Gateways` -> –≤—ã–±—Ä–∞–ª IGW -> `Actions` -> `Detach from VPC` -> –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª.
   2. –ó–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –≤—ã–±—Ä–∞–ª IGW -> `Actions` -> `Delete internet gateway`.
   ![img](/images/img_50.png)
   ![img](/images/img_51.png)
6. –£–¥–∞–ª–∏–ª —Å–æ–∑–¥–∞–Ω–Ω—É—é VPC.
   1. `VPC` -> `Your VPCs` -> –≤—ã–±—Ä–∞–ª VPC -> `Actions` -> `Delete VPC`.
   2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —É–¥–∞–ª–µ–Ω–∏–µ.
   3. –ï—Å–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ —É–¥–∞–≤–∞–ª–æ—Å—å, –ø—Ä–æ–≤–µ—Ä–∏–ª, —á—Ç–æ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã (–ø–æ–¥—Å–µ—Ç–∏, —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —Ç.–¥.) –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã.
   ![img](/images/img_52.png)

> –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫—Ä–µ–¥–∏—Ç—ã –Ω–µ —Å–Ω–∏–º–∞–ª–∏—Å—å, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã–ª–æ —É–¥–∞–ª–∏—Ç—å EC2 –∏–Ω—Å—Ç–∞–Ω—Å—ã, NAT Gateway –∏ Elastic IP. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã —É–∫–∞–∑–∞–Ω—ã –≤—ã—à–µ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö. –û—Ç–≤–µ—Ç–∏–ª –Ω–∞ –Ω–∏—Ö –ø–∏—Å—å–º–µ–Ω–Ω–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã.